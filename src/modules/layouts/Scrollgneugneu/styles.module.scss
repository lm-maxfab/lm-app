/*
 * Defined in index.tsx:
 *
 * --sticky-blocks-viewport-height
 * --sticky-blocks-offset-top
 * --scrolling-block-height
 * --scrolling-block-width
 * --bg-color-transition-duration
 * --bg-color
 */

.wrapper {
  position: relative;
  overflow: hidden;
  background-color: var(--bg-color);
  transition: background-color var(--bg-color-transition-duration);
}

.header {
  width: var(--scrolling-block-width);
  opacity: 1;
  visibility: visible;
  transition: opacity 600ms 5ms, visibility 0ms;
}

.wrapper.wrapper_hide-header {
  .header {
    opacity: 0;
    visibility: collapse;
    transition: opacity 600ms, visibility 0ms 600ms;
  }
}

.sticky-block {
  /* --z-index is defined in index.tsx */
  position: absolute;
  top: 0;
  display: inline-block;
  height: var(--sticky-blocks-viewport-height);
  z-index: var(--z-index);
}

.header.sticky-block {
  height: unset;
}

.scroll-panel {
  position: relative;
}

.paginator {
  /* --z-index is defined in index.tsx */
  position: relative;
  z-index: var(--z-index);
}

.scrolling-block {
  /* --z-index is defined in index.tsx */
  position: relative;
  z-index: var(--z-index);
}

.wrapper.wrapper_stick-blocks {
  .sticky-block {
    position: fixed;
    top: var(--sticky-blocks-offset-top);
  }
}

.wrapper.wrapper_offset-blocks {
  .sticky-block {
    position: absolute;
    top: calc(
      var(--scrolling-block-height)
      + var(--sticky-blocks-offset-top)
      - var(--sticky-blocks-viewport-height)
    );
  }
}

/* * * * * * * * * * * * * * * * * * * * * * * * * *
 *
 * STATUS
 *
 * * * * * * * * * * * * * * * * * * * * * * * * * */

.sticky-block.status-current {
  pointer-events: auto;
}
.sticky-block.status-previous,
.sticky-block.status-inactive {
  pointer-events: none;
}

/* * * * * * * * * * * * * * * * * * * * * * * * * *
 *
 * LAYOUTS
 *
 * * * * * * * * * * * * * * * * * * * * * * * * * */

$minWidth: 801px;
$maxWidth: 800px;

/* left-half */
.scrolling-block {
  &.layout-left-half {
    @media (min-width: $minWidth) {
      width: 50%;
    }
  }
  &.layout-mobile-left-half {
    @media (max-width: $maxWidth) {
      width: 50%;
    }
  }
}

.sticky-block {
  --width: var(--scrolling-block-width);

  &.layout-left-half {
    @media (min-width: $minWidth) {
      width: calc(var(--width) / 2);
      margin-right: calc(var(--width) / -2);
    }
  }
  &.layout-mobile-left-half {
    @media (max-width: $maxWidth) {
      width: calc(var(--width) / 2);
      margin-right: calc(var(--width) / -2);
    }
  }
}

/* left-half-middle */
.layout-left-half-middle {
  @extend .layout-left-half;
  display: flex;
  flex-direction: column;
  justify-content: center;
}
.layout-mobile-left-half-middle {
  @extend .layout-mobile-left-half;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

/* left-half-bottom */
.layout-left-half-bottom {
  @extend .layout-left-half;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
}
.layout-mobile-left-half-bottom {
  @extend .layout-mobile-left-half;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
}

/* right-half */
.scrolling-block {
  &.layout-right-half {
    @media (min-width: $minWidth) {
      margin-left: 50%;
      width: 50%;
    }
  }
  &.layout-mobile-right-half {
    @media (max-width: $maxWidth) {
      margin-left: 50%;
      width: 50%;
    }
  }
}

.sticky-block {
  --width: var(--scrolling-block-width);

  &.layout-right-half {
    @media (min-width: $minWidth) {
      width: calc(var(--width, 100%) / 2);
      margin-right: calc(var(--width, 100%) / -2);
      left: calc(var(--width, 100%) / 2);
    }
  }
  &.layout-mobile-right-half {
    @media (max-width: $maxWidth) {
      width: calc(var(--width, 100%) / 2);
      margin-right: calc(var(--width, 100%) / -2);
      left: calc(var(--width, 100%) / 2);
    }
  }
}

/* right-half-middle */
.layout-right-half-middle {
  @extend .layout-right-half;
  display: flex;
  flex-direction: column;
  justify-content: center;
}
.layout-mobile-right-half-middle {
  @extend .layout-mobile-right-half;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

/* right-half-bottom */
.layout-right-half-bottom {
  @extend .layout-right-half;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
}
.layout-mobile-right-half-bottom {
  @extend .layout-mobile-right-half;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
}

/* full-screen */
.scrolling-block {
  &.layout-full-screen {
    @media (min-width: $minWidth) {
      width: 100%;
    }
  }
  &.layout-mobile-full-screen {
    @media (max-width: $maxWidth) {
      width: 100%;
    }
  }
}

.sticky-block {
  --width: var(--scrolling-block-width);

  &.layout-full-screen {
    @media (min-width: $minWidth) {
      width: var(--width, 100%);
    }
  }
  &.layout-mobile-full-screen {
    @media (max-width: $maxWidth) {
      width: var(--width, 100%);
    }
  }
}
